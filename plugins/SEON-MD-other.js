const _0x32f6df=_0x18d4;function _0x18d4(_0x9df75c,_0x539e5d){const _0xcebf8a=_0xcebf();return _0x18d4=function(_0x18d48a,_0x3c2f3a){_0x18d48a=_0x18d48a-0x18a;let _0x1880a8=_0xcebf8a[_0x18d48a];return _0x1880a8;},_0x18d4(_0x9df75c,_0x539e5d);}function _0xcebf(){const _0x1fdecb=['62RDSLeu','../DATABASE/functions','4EBmxfu','error','5821475mqkDlb','28qNhnTa','viewOnceMessage','text','download','ext','1208434oNPfmD','Error\x20in\x20uploading\x20media:','form-data','type','node-fetch','statusText','telegraph','img2url','630024dtVGKg','promises','file.','convert','../utils','reqtype','350IMIDcV','Send\x20or\x20reply\x20to\x20an\x20image\x20with\x20*','.tourl\x20<reply\x20image>','Error\x20deleting\x20file:','124161JwZhia','*Hey\x20','42065064TsoqSq','append','status','msg','79464FLuGXu','Error\x20during\x20media\x20upload:',',\x20Here\x20Is\x20Your\x20Media\x20URL*\x0a*Url:*\x20','quoted','../command','POST','Error\x20occurred\x20while\x20processing\x20the\x20media.','file-type','9wVtLaK','10647976ckVyCL','includes','Please\x20reply\x20to\x20a\x20valid\x20image.','imageMessage','Upload\x20failed\x20with\x20status\x20'];_0xcebf=function(){return _0x1fdecb;};return _0xcebf();}(function(_0x304531,_0x19469e){const _0x17e64f=_0x18d4,_0x437967=_0x304531();while(!![]){try{const _0x3617c1=parseInt(_0x17e64f(0x1a0))/0x1+-parseInt(_0x17e64f(0x196))/0x2*(-parseInt(_0x17e64f(0x1b2))/0x3)+parseInt(_0x17e64f(0x198))/0x4*(parseInt(_0x17e64f(0x19a))/0x5)+-parseInt(_0x17e64f(0x1a8))/0x6*(parseInt(_0x17e64f(0x19b))/0x7)+-parseInt(_0x17e64f(0x191))/0x8*(-parseInt(_0x17e64f(0x190))/0x9)+parseInt(_0x17e64f(0x1ae))/0xa*(-parseInt(_0x17e64f(0x1b8))/0xb)+-parseInt(_0x17e64f(0x1b4))/0xc;if(_0x3617c1===_0x19469e)break;else _0x437967['push'](_0x437967['shift']());}catch(_0x396b14){_0x437967['push'](_0x437967['shift']());}}}(_0xcebf,0xc55fd));const {cmd,commands}=require(_0x32f6df(0x18c)),fetch=require(_0x32f6df(0x1a4)),FormData=require(_0x32f6df(0x1a2)),{fileTypeFromBuffer}=require(_0x32f6df(0x18f)),{getRandom}=require(_0x32f6df(0x197)),{reply}=require(_0x32f6df(0x1ac)),MAX_FILE_SIZE_MB=0xc8;async function uploadMedia(_0x455565){const _0x43ac5c=_0x32f6df;try{const {ext:_0x37f393}=await fileTypeFromBuffer(_0x455565),_0x35cf34=new FormData();_0x35cf34[_0x43ac5c(0x1b5)]('fileToUpload',_0x455565,_0x43ac5c(0x1aa)+_0x37f393),_0x35cf34[_0x43ac5c(0x1b5)](_0x43ac5c(0x1ad),'fileupload');const _0x4daa71=await fetch('https://catbox.moe/user/api.php',{'method':_0x43ac5c(0x18d),'body':_0x35cf34});if(!_0x4daa71['ok'])throw new Error(_0x43ac5c(0x195)+_0x4daa71[_0x43ac5c(0x1b6)]+':\x20'+_0x4daa71[_0x43ac5c(0x1a5)]);const _0x5e2fc0=await _0x4daa71[_0x43ac5c(0x19d)]();return _0x5e2fc0;}catch(_0x17c9bd){console['error'](_0x43ac5c(0x1b9),_0x17c9bd);throw new Error('Failed\x20to\x20upload\x20media');}}cmd({'pattern':'tourl','react':'ðŸ”—','alias':[_0x32f6df(0x1a7),'imgurl',_0x32f6df(0x1a6),'imgtourl'],'category':_0x32f6df(0x1ab),'use':_0x32f6df(0x1b0),'filename':__filename},async(_0x5d5f87,_0x19252f,_0x36ecad,{from:_0x352ebb,l:_0x5e513a,prefix:_0xde3cfe,quoted:_0x4c583a,body:_0x382717,isCmd:_0x492c9e,command:_0x14c513,args:_0x16d97f,q:_0x7cea9c,isGroup:_0x5cf215,sender:_0x12bff6,senderNumber:_0x15a037,botNumber2:_0x2555b4,botNumber:_0x49e5ca,pushname:_0x5865e2,isMe:_0x58dc78,isOwner:_0x10251f,groupMetadata:_0x364b65,groupName:_0x16918d,participants:_0x3e72c9,groupAdmins:_0x31721d,isBotAdmins:_0x16e13f,isAdmins:_0x2f1101,reply:_0x13fddb})=>{const _0x28cfd4=_0x32f6df;try{const _0x1101b5=_0x36ecad[_0x28cfd4(0x18b)]?_0x36ecad[_0x28cfd4(0x18b)][_0x28cfd4(0x1a3)]===_0x28cfd4(0x19c):![],_0x27cbda=_0x36ecad['quoted']?_0x36ecad['quoted'][_0x28cfd4(0x1a3)]===_0x28cfd4(0x194)||(_0x1101b5?_0x36ecad[_0x28cfd4(0x18b)][_0x28cfd4(0x1b7)][_0x28cfd4(0x1a3)]===_0x28cfd4(0x194):![]):![];if(_0x36ecad['type']===_0x28cfd4(0x194)||_0x27cbda){const _0x57d73d=getRandom('');let _0x59e9eb=_0x27cbda?await _0x36ecad[_0x28cfd4(0x18b)][_0x28cfd4(0x19e)](_0x57d73d):await _0x36ecad[_0x28cfd4(0x19e)](_0x57d73d),_0x438552=await fileTypeFromBuffer(_0x59e9eb);if(!_0x438552||!['image/jpeg','image/png'][_0x28cfd4(0x192)](_0x438552['mime']))return _0x13fddb(_0x28cfd4(0x193));await fs[_0x28cfd4(0x1a9)]['writeFile']('./'+_0x438552[_0x28cfd4(0x19f)],_0x59e9eb);const _0x381891=await uploadMedia(_0x59e9eb);await _0x13fddb(_0x28cfd4(0x1b3)+_0x5865e2+_0x28cfd4(0x18a)+_0x381891),fs['unlink']('./'+_0x438552[_0x28cfd4(0x19f)],_0x5330fa=>{const _0x1f1132=_0x28cfd4;if(_0x5330fa)console[_0x1f1132(0x199)](_0x1f1132(0x1b1),_0x5330fa);});}else return _0x13fddb(_0x28cfd4(0x1af)+(_0xde3cfe+_0x14c513)+'*');}catch(_0x41c220){console[_0x28cfd4(0x199)](_0x28cfd4(0x1a1),_0x41c220),await _0x13fddb(_0x28cfd4(0x18e));}});
